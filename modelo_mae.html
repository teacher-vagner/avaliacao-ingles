<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>6º Ano – Inglês – 1º Bimestre</title>

<style>
body{
  font-family: Arial, sans-serif;
  max-width: 900px;
  margin: auto;
  background: #f4f6fb;
  padding: 20px;
}
h1,h2,h3{color:#1f4fd8}
.box{
  background:#fff;
  border-radius:8px;
  padding:15px;
  margin-bottom:20px;
}
.linha{
  display:flex;
  gap:10px;
}
.linha input,.linha select{
  padding:6px;
}
.nome{width:70%}
.numero{width:10%}
.turma{width:20%}
textarea{width:100%;height:70px}
button{
  padding:12px 18px;
  font-size:16px;
  border:none;
  border-radius:6px;
  background:#1f4fd8;
  color:#fff;
  cursor:pointer;
}
.bncc{font-size:13px;color:#555}
.correta{color:#2e7d32;font-weight:bold}
.errada{color:#c62828;font-weight:bold}
</style>
</head>

<body>
<img src="teacher.jpg" width="100%">
<h1>Avaliação de Língua Inglesa</h1>
<h3>6º Ano – 1º Bimestre</h3>

<div class="box">
  <label>Escola</label><br>
  <input id="escola" style="width:100%" placeholder="Nome da escola"><br><br>

  <div class="linha">
    <input id="nome" class="nome" placeholder="Nome do aluno">
    <input id="numero" class="numero" placeholder="Nº">
    <select id="turma" class="turma">
      <option value="">Turma</option>
      <option>A</option><option>B</option><option>C</option>
      <option>D</option><option>E</option><option>F</option>
    </select>
  </div>
</div>

<form id="quiz" class="box"></form>

<button onclick="finalizar()">Enviar e ver resultado</button>

<div id="resultado" class="box"></div>

<script>
/*************** CONFIG ***************/
const SERIE = "6º Ano";
const BIMESTRE = "1º Bimestre";
const EMAIL_PROFESSOR = "teacher.vagnerrocha79@gmail.com";

/*************** BANCO DE QUESTÕES ***************/
const bancoQuestoes = [

  /* WRITING */
  {
    habilidade:"Writing",
    bncc:"EF06LI01",
    tipo:"aberta",
    q:`<p>Reorder and make sentences:<br>our / after / We / homework / did / school</p>`,
    r:["We did our homework after school."]
  },
  {
    habilidade:"Writing",
    bncc:"EF06LI01",
    tipo:"aberta",
    q:`<p>Reorder and make sentences:<br>school / to / Did / you / yesterday / go</p>`,
    r:["Did you go to school yesterday?"]
  },

  /* LISTENING BLOCO */
  {
    habilidade:"Listening",
    bncc:"EF06LI03",
    tipo:"listeningBloco",
    audio:"midia/audios/audio2.mp3",
    perguntas:[
      {
        q:"Where did Kate go last year?",
        a:["to Paris.","to London.","to Rome.","to Brazil."],
        c:0
      },
      {
        q:"Who did Kate go with?",
        a:["her sister","her mother","a friend","her father"],
        c:1
      },
      {
        q:"How did she get there?",
        a:["by car","by plane","by train","by taxi"],
        c:1
      },
      {
        q:"How long did they stay in Paris?",
        a:["five days","five weeks","a month","a week"],
        c:0
      }
    ]
  },

  /* READING / GRAMMAR */
  {
    habilidade:"Reading",
    bncc:"EF06LI04",
    tipo:"objetiva",
    q:`<p>She ___ my friend.</p>`,
    a:["am","is","are","be"],
    c:1
  },
  {
    habilidade:"Reading",
    bncc:"EF06LI04",
    tipo:"objetiva",
    q:`<p>They ___ my best friends.</p>`,
    a:["am","is","are","be"],
    c:2
  },
  {
    habilidade:"Grammar",
    bncc:"EF06LI05",
    tipo:"objetiva",
    q:`<p>I ___ a student.</p>`,
    a:["am","is","are","be"],
    c:0
  }
];

/*************** SORTEIO ***************/
function sortearQuestoes(qtd){
  return bancoQuestoes.sort(()=>0.5-Math.random()).slice(0,qtd);
}
const questoes = sortearQuestoes(5);

/*************** MONTAGEM ***************/
const form = document.getElementById("quiz");
let indice = 0;

questoes.forEach(q=>{
  if(q.tipo==="listeningBloco"){
    let html = `<h3>Listening</h3><div class="bncc">BNCC: ${q.bncc}</div>`;
    html += `<audio controls><source src="${q.audio}"></audio>`;
    q.perguntas.forEach(p=>{
      indice++;
      html += `<p>${indice}. ${p.q}</p>`;
      p.a.forEach((alt,j)=>{
        html += `<label><input type="radio" name="q${indice}" value="${j}"> ${alt}</label><br>`;
      });
    });
    form.innerHTML += html;
  } else {
    indice++;
    let html = `<h3>${indice}. (${q.habilidade})</h3>`;
    html += `<div class="bncc">BNCC: ${q.bncc}</div>`;
    html += q.q;
    if(q.tipo==="objetiva"){
      q.a.forEach((alt,j)=>{
        html += `<label><input type="radio" name="q${indice}" value="${j}"> ${alt}</label><br>`;
      });
    } else {
      html += `<textarea id="q${indice}"></textarea>`;
    }
    form.innerHTML += html;
  }
});

/*************** CORREÇÃO ***************/
function finalizar(){
  let pontos = 0;
  let total = indice;
  let feedback = "";

  let i = 0;
  questoes.forEach(q=>{
    if(q.tipo==="listeningBloco"){
      q.perguntas.forEach(p=>{
        i++;
        const r = document.querySelector(`input[name="q${i}"]:checked`);
        if(r && Number(r.value)===p.c){
          pontos++;
          feedback += `<p class="correta">${i}. ✔ Correta</p>`;
        } else {
          feedback += `<p class="errada">${i}. ✘ Incorreta | ${p.a[p.c]}</p>`;
        }
      });
    } else if(q.tipo==="objetiva"){
      i++;
      const r = document.querySelector(`input[name="q${i}"]:checked`);
      if(r && Number(r.value)===q.c){
        pontos++;
        feedback += `<p class="correta">${i}. ✔ Correta</p>`;
      } else {
        feedback += `<p class="errada">${i}. ✘ Incorreta | ${q.a[q.c]}</p>`;
      }
    } else {
      i++;
      const txt = document.getElementById(`q${i}`).value.trim();
      if(q.r.includes(txt)){
        pontos++;
        feedback += `<p class="correta">${i}. ✔ Correta</p>`;
      } else {
        feedback += `<p class="errada">${i}. ✘ Incorreta | ${q.r[0]}</p>`;
      }
    }
  });

  const nota = Math.round((pontos/total)*10);

  document.getElementById("resultado").innerHTML = `
    <strong>Aluno:</strong> ${nome.value}<br>
    <strong>Série:</strong> ${SERIE}<br>
    <strong>Turma:</strong> ${turma.value}<br>
    <strong>Nota:</strong> ${nota}/10<hr>
    ${feedback}
  `;

  window.location.href =
    `mailto:${EMAIL_PROFESSOR}?subject=Avaliação Inglês 6º Ano&body=${encodeURIComponent("Aluno: "+nome.value+"\nNota: "+nota)}`;
}
</script>

</body>
</html>







