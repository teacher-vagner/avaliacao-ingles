<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>6º Ano – Inglês – 1º Bimestre</title>

<style>
body{
  font-family: Arial, sans-serif;
  max-width: 900px;
  margin:auto;
  background:#f4f6fb;
  padding:20px;
}
h1,h2,h3{color:#1f4fd8}
.box{
  background:#fff;
  border-radius:8px;
  padding:15px;
  margin-bottom:20px;
}
.linha{display:flex;gap:10px}
.linha input,.linha select{padding:6px}
.nome{width:70%}
.numero{width:10%}
.turma{width:20%}
textarea{width:100%;height:70px}
button{
  padding:12px 18px;
  font-size:16px;
  border:none;
  border-radius:6px;
  background:#1f4fd8;
  color:#fff;
  cursor:pointer;
}
.bncc{font-size:13px;color:#555}
.correta{color:#2e7d32;font-weight:bold}
.errada{color:#c62828;font-weight:bold}
</style>
</head>

<body>
<img src="teacher.jpg" width="100%">
<h1>Avaliação de Língua Inglesa</h1>
<h3>6º Ano – 1º Bimestre</h3>

<div class="box">
  <label>Escola</label><br>
  <input id="escola" style="width:100%" placeholder="Nome da escola"><br><br>
  <div class="linha">
    <input id="nome" class="nome" placeholder="Nome do aluno">
    <input id="numero" class="numero" placeholder="Nº">
    <select id="turma" class="turma">
      <option value="">Turma</option>
      <option>A</option><option>B</option><option>C</option>
    </select>
  </div>
</div>

<form id="quiz" class="box"></form>

<button onclick="finalizar()">Enviar e ver resultado</button>

<div id="resultado" class="box"></div>

<script>
/******** CONFIG ********/
const SERIE="6º Ano";
const BIMESTRE="1º Bimestre";
const EMAIL_PROFESSOR="teacher.vagnerrocha79@gmail.com";

/******** BANCO ********/
const banco = [

/* ===== WRITING (5) ===== */
{hab:"Writing",bncc:"EF06LI01",tipo:"aberta",q:"Reorder: We / homework / did / after / school",r:"We did our homework after school."},
{hab:"Writing",bncc:"EF06LI01",tipo:"aberta",q:"Reorder: Did / you / go / to / school / yesterday",r:"Did you go to school yesterday?"},
{hab:"Writing",bncc:"EF06LI01",tipo:"aberta",q:"Reorder: They / played / soccer / yesterday",r:"They played soccer yesterday."},
{hab:"Writing",bncc:"EF06LI01",tipo:"aberta",q:"Reorder: She / studied / English / last night",r:"She studied English last night."},
{hab:"Writing",bncc:"EF06LI01",tipo:"aberta",q:"Reorder: We / visited / our / grandparents",r:"We visited our grandparents."},

/* ===== LISTENING (1 áudio + 5) ===== */
{
hab:"Listening",bncc:"EF06LI03",tipo:"listening",
audio:"audio1.mp3",
perg:[
{q:"Where did Kate go?",a:["Paris","London","Rome","Berlin"],c:0},
{q:"Who did she go with?",a:["mother","sister","friend","father"],c:1},
{q:"How did she travel?",a:["car","plane","train","bus"],c:1},
{q:"How long did she stay?",a:["5 days","1 week","1 month","2 days"],c:0},
{q:"Did she like the trip?",a:["Yes","No","Maybe","Not mentioned"],c:0}
]
},

/* ===== READING (1 texto + 5) ===== */
{
hab:"Reading",bncc:"EF06LI04",tipo:"reading",
texto:"Tom is 11 years old. He lives in Brazil and studies English at school.",
perg:[
{q:"How old is Tom?",a:["10","11","12","13"],c:1},
{q:"Where does Tom live?",a:["USA","England","Brazil","Canada"],c:2},
{q:"What does he study?",a:["Math","Science","English","History"],c:2},
{q:"Does he study at school?",a:["Yes","No","Sometimes","Never"],c:0},
{q:"Is Tom a student?",a:["Yes","No","Not mentioned","Maybe"],c:0}
]
},

/* ===== GRAMMAR (5) ===== */
{hab:"Grammar",bncc:"EF06LI05",tipo:"obj",q:"I ___ a student.",a:["am","is","are","be"],c:0},
{hab:"Grammar",bncc:"EF06LI05",tipo:"obj",q:"She ___ my friend.",a:["am","is","are","be"],c:1},
{hab:"Grammar",bncc:"EF06LI05",tipo:"obj",q:"They ___ happy.",a:["am","is","are","be"],c:2},
{hab:"Grammar",bncc:"EF06LI05",tipo:"obj",q:"We ___ English.",a:["study","studies","studying","studied"],c:0},
{hab:"Grammar",bncc:"EF06LI05",tipo:"obj",q:"He ___ soccer.",a:["play","plays","played","playing"],c:1}
];

/******** MONTAGEM ********/
const form=document.getElementById("quiz");
let idx=0;
banco.forEach(b=>{
  if(b.tipo==="listening"||b.tipo==="reading"){
    form.innerHTML+=`<h3>${b.hab}</h3><div class="bncc">${b.bncc}</div>`;
    if(b.audio) form.innerHTML+=`<audio controls src="${b.audio}"></audio>`;
    if(b.texto) form.innerHTML+=`<p>${b.texto}</p>`;
    b.perg.forEach(p=>{
      idx++;
      form.innerHTML+=`<p>${idx}. ${p.q}</p>`;
      p.a.forEach((alt,j)=>{
        form.innerHTML+=`<label><input type="radio" name="q${idx}" value="${j}"> ${alt}</label><br>`;
      });
    });
  } else {
    idx++;
    form.innerHTML+=`<h3>${idx}. ${b.hab}</h3><div class="bncc">${b.bncc}</div><p>${b.q}</p>`;
    if(b.tipo==="aberta"){
      form.innerHTML+=`<textarea id="q${idx}"></textarea>`;
    } else {
      b.a.forEach((alt,j)=>{
        form.innerHTML+=`<label><input type="radio" name="q${idx}" value="${j}"> ${alt}</label><br>`;
      });
    }
  }
});

/******** CORREÇÃO ********/
function normalizar(txt){
 return txt.trim().replace(/\s+/g," ");
}

function finalizar(){
 let pontos=0, i=0, feedback="", mapa={Writing:0,Listening:0,Reading:0,Grammar:0};
 banco.forEach(b=>{
  if(b.tipo==="listening"||b.tipo==="reading"){
    b.perg.forEach(p=>{
      i++;
      const r=document.querySelector(`input[name="q${i}"]:checked`);
      if(r&&Number(r.value)===p.c){pontos++;mapa[b.hab]+=0.5;feedback+=`<p class="correta">${i} ✔</p>`;}
      else feedback+=`<p class="errada">${i} ✘</p>`;
    });
  } else if(b.tipo==="aberta"){
    i++;
    const t=normalizar(document.getElementById(`q${i}`).value);
    if(t===b.r){pontos++;mapa[b.hab]+=0.5;feedback+=`<p class="correta">${i} ✔</p>`;}
    else feedback+=`<p class="errada">${i} ✘</p>`;
  } else {
    i++;
    const r=document.querySelector(`input[name="q${i}"]:checked`);
    if(r&&Number(r.value)===b.c){pontos++;mapa[b.hab]+=0.5;feedback+=`<p class="correta">${i} ✔</p>`;}
    else feedback+=`<p class="errada">${i} ✘</p>`;
  }
 });

 document.getElementById("resultado").innerHTML=
 `<strong>${nome.value}</strong><br>
 Escola: ${escola.value}<br>
 Nota Final: ${pontos*0.5}/10<br>
 Writing: ${mapa.Writing}<br>
 Listening: ${mapa.Listening}<br>
 Reading: ${mapa.Reading}<br>
 Grammar: ${mapa.Grammar}<hr>${feedback}`;
}
</script>
</body>
</html>

